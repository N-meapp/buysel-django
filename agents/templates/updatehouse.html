{% extends "base1.html" %}
{% load static %}


{% block content %}
        <div class="container pt-5">
            <div class="update-form">
                <h1>Update House: {{ house.Caption }}</h1><br>
        
                {% if messages %}
                <div class="alert alert-danger">
                    <ul>
                        {% for message in messages %}
                            <li>{{ message }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
                {% if messages %}
                <div class="alert alert-danger">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
        
                    <!-- House Details Section -->
                    <div class="form-section">
                        <h3>House Details</h3>
                        <div class="row form-group pt-3">
                            <div class="col-md-6">
                                <div class="">
                                    <label for="Caption">House Caption:</label>
                                    <input type="text" id="Caption" name="Caption" value="{{ house.Caption }}" class="form-control" required>
                                </div>
                               
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="category">Category:</label>
                                    <select id="category" name="category" required class="form-control">
                                        {% for category in categories %}
                                            <option value="{{ category.id }}" {% if category.id == house.category.id %}selected{% endif %}>
                                                {{ category.catgory }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                            </div>
                        </div><br>
                        <div class="row form-group">
                            <div class="col-md-6">
                                <div class="">
                                    <label for="total_land">Total Land:</label>
                                    <input type="text" id="total_land" name="total_land" value="{{ house.total_land }}" class="form-control">
                                </div>
                                
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="house_area">House Area:</label>
                                <input type="text" id="house_area" name="house_area" value="{{ house.house_area }}" required class="form-control">
                                </div>
                                
                            </div>
                        </div><br>

                        <div class="row form-group">
                            <div class="col-md-6">
                                <label for="location">Location:</label>
                                <input type="text" name="location" class="form-control" value="{{ house.location }}">
                            </div>
                            <div class="col-md-6">
                                <div class="">
                                    <label for="location">Agent:</label>
                                <input type="text" id="house_area" name="agent_name" value="{{ house.agent_name }}" required class="form-control">
                                </div>
                                
                            </div>
                        </div><br>

                        
                        
                    </div>
        
                    <!-- Price & Address Section -->
                    <div class="form-section pt-4">
                        <h3>Price & Address</h3>
                        <div class="row form-group pt-4">
                            <div class="col-md-6">
                                <label for="price">Price:</label>
                                <input type="text" id="price" name="price" value="{{ house.price }}" required class="form-control">
                            </div>
                            <div class="col-md-6">
                                <label for="land_mark">Landmark:</label>
                                <input type="text" id="land_mark" name="land_mark" value="{{ house.land_mark }}" class="form-control">
                            </div>
                        </div>
                        <div class="row form-group pt-3">
                            <div class="col-md-6">
                                <label for="address">Address:</label>
                                <textarea id="address" name="address" class="form-control" rows="4" required>{{ house.address }}</textarea>
                            </div>
                            <div class="col-md-6">
                                <label for="description">Description:</label>
                                <textarea id="description" name="description" rows="4" class="form-control">{{ house.description }}</textarea>
                            </div>
                        </div>
                    </div>
        
                    <!-- Description & Rooms Section -->
                    <div class="form-section pt-4">
                        <h3>Rooms</h3>
                        <div class="row form-group pt-3">
                            <div class="col-md-6">
                                <label for="Bedroom">Bedroom:</label>
                                <input type="text" id="Bedroom" name="Bedroom" value="{{ house.Bedroom }}" required class="form-control">
                            </div>
                            <div class="col-md-6">
                                <label for="Bathroom">Bathroom:</label>
                                <input type="text" id="Bathroom" name="Bathroom" value="{{ house.Bathroom }}" required class="form-control">
                            </div>
                        </div>
                        <div class="row form-group pt-3">
                            <div class="col-md-6">
                                <label for="allowed_persons">Allowed Persons:</label>
                                <input type="number" id="allowed_persons" name="allowed_persons" value="{{ house.allowed_persons }}" class="form-control">
                            </div>
                            <div class="col-md-6">
                                <label for="gender">Gender:</label>
                <select name="gender" class="form-control">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="mixed">Mixed</option>
                </select>
                            </div>

                        </div>
                    </div>
        
                    <!-- Additional Features Section -->
                    <div class="form-section pt-4">
                        <h3>Additional Features</h3>
                        <div class="row form-group pt-3">
                            <div class="col-md-4">
                                <label for="Kitchen">Kitchen:</label>
                                <input type="checkbox" id="Kitchen" name="Kitchen" {% if house.Kitchen %}checked{% endif %}>
                            </div>
                            
                            <div class="col-md-4">
                                <label for="furnished">Furnished:</label>
                                <input type="checkbox" id="furnished" name="furnished" {% if house.furnished %}checked{% endif %}>
                            </div>
                            <div class="col-md-4">
                                <label for="disabled">Is Disabled:</label>
                                <input type="checkbox" id="disabled" name="disabled" {% if house.disabled %}checked{% endif %}>
                            </div>
                        </div>
                        <div class="row form-group pt-3">
                            <div class="col-md-6">
                                <label for="Time_perioud">Time Period:</label>
                                <input type="text" id="Time_perioud" name="Time_perioud" value="{{ house.Time_perioud }}" class="form-control">
                            </div>
                            <div class="col-md-6">
                                <label for="sequrity_deposit">Security Deposit:</label>
                                <input type="text" id="sequrity_deposit" name="sequrity_deposit" value="{{ house.sequrity_deposit }}" class="form-control">
                            </div>
                        </div>
                    </div>
        
                    <!-- Image Upload Section -->
                    <div class="form-section pt-4">
                        <h3>Images</h3>
                        <label for="images ">Upload New Images (4 images required):</label>
                        <input type="file" id="images" name="images" accept="image/*" multiple class="form-control">
                    </div>
        
                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary mt-4">Update House</button>
                </form>
            </div>
        </div>
{% endblock %}